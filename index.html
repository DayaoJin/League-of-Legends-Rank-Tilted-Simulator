<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ranked Tilt Simulator</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            background-color: #1e1e1e;
            color: white;
            padding: 20px;
        }
        .container {
            max-width: 600px;
            margin: auto;
            background: #333;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0px 0px 10px rgba(255, 255, 255, 0.2);
        }
        input, button {
            width: 100%;
            padding: 10px;
            margin: 5px 0;
            border-radius: 5px;
            border: none;
        }
        button {
            font-size: 16px;
            cursor: pointer;
        }
        .simulate-btn {
            background: #ff4757;
            color: white;
        }
        .reset-btn {
            background: #444;
            color: white;
        }
        canvas {
            margin-top: 20px;
            background: #222;
            border-radius: 10px;
            padding: 10px;
        }
        .results {
            margin-top: 20px;
            text-align: left;
            background: #444;
            padding: 15px;
            border-radius: 10px;
        }
    </style>
</head>
<body>

    <div class="container">
        <h2>Ranked Tilt Simulator</h2>
        <p>Enter your rank details and simulate ranked games.</p>
        
        <label>Current Rank (e.g., Silver 4, Gold 3)</label>
        <input type="text" id="currentRank" placeholder="Enter your rank">

        <label>Last Season's Rank (e.g., Bronze 2, Platinum 1)</label>
        <input type="text" id="lastSeasonRank" placeholder="Enter last season rank">

        <label>Win Rate (%)</label>
        <input type="number" id="winRate" placeholder="Enter win rate (e.g., 55)">

        <label>Number of Games to Simulate</label>
        <input type="number" id="numGames" placeholder="Enter number of games">

        <button class="simulate-btn" onclick="simulateGames()">Simulate Games</button>
        <button class="reset-btn" onclick="resetSimulator()">Reset</button>
    </div>

    <div class="results" id="resultsContainer"></div>

    <canvas id="gameResultsChart"></canvas>
    <canvas id="tiltChart"></canvas>

    <script>
        const validRanks = [
            "Iron 4", "Iron 3", "Iron 2", "Iron 1",
            "Bronze 4", "Bronze 3", "Bronze 2", "Bronze 1",
            "Silver 4", "Silver 3", "Silver 2", "Silver 1",
            "Gold 4", "Gold 3", "Gold 2", "Gold 1",
            "Platinum 4", "Platinum 3", "Platinum 2", "Platinum 1",
            "Diamond 4", "Diamond 3", "Diamond 2", "Diamond 1"
        ];

        function validateRank(input) {
            input = input.trim().toLowerCase();
            return validRanks.some(rank => rank.toLowerCase() === input);
        }

        function simulateGames() {
            let currentRank = document.getElementById("currentRank").value.trim();
            let lastSeasonRank = document.getElementById("lastSeasonRank").value.trim();
            let winRate = parseFloat(document.getElementById("winRate").value);
            let numGames = parseInt(document.getElementById("numGames").value);

            if (!validateRank(currentRank) || !validateRank(lastSeasonRank)) {
                alert("Invalid rank input. Please enter a valid rank (e.g., Silver 4, Gold 3).");
                return;
            }

            if (isNaN(winRate) || winRate < 0 || winRate > 100) {
                alert("Invalid win rate. Enter a number between 0 and 100.");
                return;
            }

            if (isNaN(numGames) || numGames <= 0) {
                alert("Invalid game count. Enter a number greater than 0.");
                return;
            }

            let resultsText = `
                <h3>Simulation Complete</h3>
                <p><strong>Final LP:</strong> ???</p>
                <p><strong>Final MMR:</strong> ???</p>
                <p><strong>Final Tilt Level:</strong> ???</p>
                <h3>MMR Explanation</h3>
                <p>MMR (Matchmaking Rating) is a hidden value that determines who you play against.</p>
                <p><strong>How is MMR calculated?</strong></p>
                <ul>
                    <li>Each rank has a base MMR (e.g., Gold 4 â‰ˆ 1400 MMR).</li>
                    <li>MMR increases when you win and decreases when you lose.</li>
                    <li>Higher MMR means facing stronger opponents.</li>
                </ul>
                <p><strong>MMR vs. LP:</strong> MMR determines your matchmaking, while LP determines your rank.</p>
            `;

            document.getElementById("resultsContainer").innerHTML = resultsText;
        }

        function resetSimulator() {
            document.getElementById("currentRank").value = "";
            document.getElementById("lastSeasonRank").value = "";
            document.getElementById("winRate").value = "";
            document.getElementById("numGames").value = "";
            document.getElementById("resultsContainer").innerHTML = "";
        }
    </script>

</body>
</html>
